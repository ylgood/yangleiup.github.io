(window.webpackJsonp=window.webpackJsonp||[]).push([[113],{290:function(e,t,s){"use strict";s.r(t);var r=s(0),a=Object(r.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h2",{attrs:{id:"react-suspense"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-suspense","aria-hidden":"true"}},[e._v("#")]),e._v(" React Suspense")]),e._v(" "),s("p",[e._v("Suspense 的设计思想是让组件具有“暂停”渲染的能力，例如，组件需要从外部资源中加载额外数据时。等到数据都加载完成，React 才会尝试重新渲染组件。")]),e._v(" "),s("p",[e._v("React 使用 Promise 来实现该功能。组件能在 render 方法调用时抛出 Promise（或者任何在组件渲染时调用的方法，例如，新的静态方法 getDerivedStateFromProps ）。React 会捕获 Promise 并沿着组件树往上寻找最近的 Suspense 组件，并且它会充当一种边界。Suspense 组件接收一个名为 fallback 的 prop，只要它的子树中有任何组件处于暂停状态，fallback 中的组件就会立即被渲染。")]),e._v(" "),s("p",[e._v("React 还会跟踪抛出的 Promise 。组件中的 Promise 一旦 resolve ，React 就会尝试去继续渲染该组件。因为我们假定由于 Promise 已经被 resolve ，这也就意味着暂停的组件已经具有正确渲染所需的全部数据。为此，我们使用某种形式的缓存来存储数据。该缓存取决于每次渲染时数据是否可用（如果可用就会像从变量中取值一样读取它），若数据没有准备好，则会触发 fetch 然后抛出 Promise 以便 React 捕获。如上所述，这并不是数据加载所独有的，任何可以使用 Promise 来描述的异步操作都可以充分利用 Suspense ，显然代码分割是一个非常明显且流行的例子。")]),e._v(" "),s("p",[e._v("作者：RetroAstro\n链接：https://juejin.im/post/5da9458ae51d4524a43077d2\n来源：掘金\n著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。")]),e._v(" "),s("p",[s("img",{attrs:{src:"/imgs/tool/gitcommit.jpg",alt:""}})]),e._v(" "),s("h3",{attrs:{id:""}},[s("a",{staticClass:"header-anchor",attrs:{href:"#","aria-hidden":"true"}},[e._v("#")])]),e._v(" "),s("p",[e._v("使用方法\n每个 emoji 都有自己对应的代码，你只需要在编写 commit log 时带上这个代码就可以了，比如：")]),e._v(" "),s("ul",[s("li",[s("p",[e._v("🎉：初次提交 对应代码: "),s("code",[e._v(":tada:")])])]),e._v(" "),s("li",[s("p",[e._v("🎨：改进代码结构/代码格式 对应代码： "),s("code",[e._v(":art:")])])]),e._v(" "),s("li",[s("p",[e._v("🐛：修复bug 对应代码："),s("code",[e._v(":bug:")])])]),e._v(" "),s("li",[s("p",[e._v("💄：修复样式 对应代码："),s("code",[e._v(":lipstick:")])])]),e._v(" "),s("li",[s("p",[e._v("💩：bad code："),s("code",[e._v(":poop:")])])])]),e._v(" "),s("p",[s("a",{attrs:{href:"https://gitmoji.carloscuesta.me/",target:"_blank",rel:"noopener noreferrer"}},[e._v("emoji传送门"),s("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=a.exports}}]);